{"map":"{\"version\":3,\"sources\":[\"/home/priyan/Downloads/FrontEnd/React/chat/src/components/Message.js\",\"/home/priyan/Downloads/FrontEnd/React/chat/src/components/MessageList.js\",\"/home/priyan/Downloads/FrontEnd/React/chat/src/components/SendMessageForm.js\",\"/home/priyan/Downloads/FrontEnd/React/chat/src/components/RoomList.js\",\"/home/priyan/Downloads/FrontEnd/React/chat/src/components/NewRoomForm.js\",\"/home/priyan/Downloads/FrontEnd/React/chat/src/App.js\",\"/home/priyan/Downloads/FrontEnd/React/chat/src/config.js\",\"/home/priyan/Downloads/FrontEnd/React/chat/src/index.js\"],\"names\":[\"Message\",\"props\",\"react_default\",\"a\",\"createElement\",\"className\",\"username\",\"text\",\"MessageList\",\"node\",\"ReactDOM\",\"findDOMNode\",\"this\",\"shouldScrollToBottom\",\"scrollTop\",\"clientHeight\",\"scrollHeight\",\"roomId\",\"messages\",\"map\",\"message\",\"index\",\"components_Message\",\"key\",\"id\",\"senderId\",\"React\",\"Component\",\"SendMessageForm\",\"_this\",\"Object\",\"classCallCheck\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"state\",\"handleChange\",\"bind\",\"assertThisInitialized\",\"handleSubmit\",\"e\",\"setState\",\"target\",\"value\",\"preventDefault\",\"sendMessage\",\"onSubmit\",\"disabled\",\"onChange\",\"placeholder\",\"type\",\"RoomList\",\"orderedRooms\",\"toConsumableArray\",\"rooms\",\"sort\",\"b\",\"room\",\"active\",\"onClick\",\"subscribeToRoom\",\"href\",\"name\",\"NewRoomForm\",\"roomName\",\"createRoom\",\"required\",\"App\",\"joinableRooms\",\"joinedRooms\",\"getRooms\",\"_this2\",\"Chatkit\",\"ChatManager\",\"instanceLocator\",\"userId\",\"tokenProvider\",\"TokenProvider\",\"url\",\"connect\",\"then\",\"currentUser\",\"catch\",\"err\",\"console\",\"log\",\"_this3\",\"getJoinableRooms\",\"_this4\",\"hooks\",\"onNewMessage\",\"concat\",\"_this5\",\"components_RoomList\",\"components_MessageList\",\"components_SendMessageForm\",\"components_NewRoomForm\",\"render\",\"src_App\",\"document\",\"getElementById\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from 'react'\\n\\nfunction Message(props) {  \\n    return (\\n        <div className=\\\"message\\\">\\n            <div className=\\\"message-username\\\">{props.username}</div>\\n            <div className=\\\"message-text\\\">{props.text}</div>\\n        </div>\\n    )\\n}\\n\\nexport default Message\",\"import React from 'react'\\nimport ReactDOM from 'react-dom'\\nimport Message from './Message'\\n\\nclass MessageList extends React.Component {\\n    \\n    componentWillUpdate() {\\n        const node = ReactDOM.findDOMNode(this)\\n        this.shouldScrollToBottom = node.scrollTop + node.clientHeight + 100 >= node.scrollHeight\\n    }\\n    \\n    componentDidUpdate() {\\n        if (this.shouldScrollToBottom) {\\n            const node = ReactDOM.findDOMNode(this)\\n            node.scrollTop = node.scrollHeight   \\n        }\\n    }\\n    \\n    render() {\\n        if (!this.props.roomId) {\\n            return (\\n                <div className=\\\"message-list\\\">\\n                    <div className=\\\"join-room\\\">\\n                        &larr; Join a room!\\n                    </div>\\n                </div>\\n            )\\n        }\\n        return (\\n            <div className=\\\"message-list\\\">\\n                {this.props.messages.map((message, index) => {\\n                    return (\\n                        <Message key={message.id} username={message.senderId} text={message.text} />\\n                    )\\n                })}\\n            </div>\\n        )\\n    }\\n}\\n\\nexport default MessageList\",\"import React from 'react'\\n\\nclass SendMessageForm extends React.Component {\\n    \\n    constructor() {\\n        super()\\n        this.state = {\\n            message: ''\\n        }\\n        this.handleChange = this.handleChange.bind(this)\\n        this.handleSubmit = this.handleSubmit.bind(this)\\n    }\\n    \\n    handleChange(e) {\\n        this.setState({\\n            message: e.target.value\\n        })\\n    }\\n    \\n    handleSubmit(e) {\\n        e.preventDefault()\\n        this.props.sendMessage(this.state.message)\\n        this.setState({\\n            message: ''\\n        })\\n    }\\n    \\n    render() {\\n        return (\\n            <form\\n                onSubmit={this.handleSubmit}\\n                className=\\\"send-message-form\\\">\\n                <input\\n                    disabled={this.props.disabled}\\n                    onChange={this.handleChange}\\n                    value={this.state.message}\\n                    placeholder=\\\"Type your message and hit ENTER\\\"\\n                    type=\\\"text\\\" />\\n            </form>\\n        )\\n    }\\n}\\n\\nexport default SendMessageForm\",\"import React from 'react'\\n\\nclass RoomList extends React.Component {\\n    render () {\\n        const orderedRooms = [...this.props.rooms].sort((a, b) => a.id > b.id)\\n        return (\\n            <div className=\\\"rooms-list\\\">\\n                <ul>\\n                <h3>Your rooms:</h3>\\n                    {orderedRooms.map(room => {\\n                        const active = room.id === this.props.roomId ? 'active' : '';\\n                        return (\\n                            <li key={room.id} className={\\\"room \\\" + active}>\\n                                <a\\n                                    onClick={() => this.props.subscribeToRoom(room.id)}\\n                                    href=\\\"#\\\">\\n                                    # {room.name}\\n                                </a>\\n                            </li>\\n                        )\\n                    })}\\n                </ul>\\n            </div>\\n        )\\n    }\\n}\\n\\nexport default RoomList\",\"import React from 'react'\\n\\nclass NewRoomForm extends React.Component {\\n    \\n    constructor() {\\n        super()\\n        this.state = {\\n            roomName: ''\\n        }\\n        this.handleChange = this.handleChange.bind(this)\\n        this.handleSubmit = this.handleSubmit.bind(this)\\n    }\\n    \\n    handleChange(e) {\\n        this.setState({\\n            roomName: e.target.value\\n        })\\n    }\\n    \\n    handleSubmit(e) {\\n        e.preventDefault()\\n        this.props.createRoom(this.state.roomName)\\n        this.setState({roomName: ''})\\n    }\\n    \\n    render () {\\n        return (\\n            <div className=\\\"new-room-form\\\">\\n                <form onSubmit={this.handleSubmit}>\\n                    <input\\n                        value={this.state.roomName}\\n                        onChange={this.handleChange}\\n                        type=\\\"text\\\" \\n                        placeholder=\\\"Create a room\\\" \\n                        required />\\n                    <button id=\\\"create-room-btn\\\" type=\\\"submit\\\">+</button>\\n            </form>\\n        </div>\\n        )\\n    }\\n}\\n\\nexport default NewRoomForm\",\"import React from 'react'\\nimport Chatkit from '@pusher/chatkit'\\nimport MessageList from './components/MessageList'\\nimport SendMessageForm from './components/SendMessageForm'\\nimport RoomList from './components/RoomList'\\nimport NewRoomForm from './components/NewRoomForm'\\nimport './style.css'\\nimport { tokenUrl, instanceLocator } from './config'\\n\\nclass App extends React.Component {\\n    \\n    constructor() {\\n        super()\\n        this.state = {\\n            roomId: null,\\n            messages: [],\\n            joinableRooms: [],\\n            joinedRooms: []\\n        }\\n        this.sendMessage = this.sendMessage.bind(this)\\n        this.subscribeToRoom = this.subscribeToRoom.bind(this)\\n        this.getRooms = this.getRooms.bind(this)\\n        this.createRoom = this.createRoom.bind(this)\\n    } \\n    \\n    componentDidMount() {\\n        const chatManager = new Chatkit.ChatManager({\\n            instanceLocator,\\n            userId: 'priyan',\\n            tokenProvider: new Chatkit.TokenProvider({\\n                url: tokenUrl\\n            })\\n        })\\n        \\n        chatManager.connect()\\n        .then(currentUser => {\\n            this.currentUser = currentUser\\n            this.getRooms()\\n        })\\n        .catch(err => console.log('error on connecting: ', err))\\n    }\\n    \\n    getRooms() {\\n        this.currentUser.getJoinableRooms()\\n        .then(joinableRooms => {\\n            this.setState({\\n                joinableRooms,\\n                joinedRooms: this.currentUser.rooms\\n            })\\n        })\\n        .catch(err => console.log('error on joinableRooms: ', err))\\n    }\\n    \\n    subscribeToRoom(roomId) {\\n        this.setState({ messages: [] })\\n        this.currentUser.subscribeToRoom({\\n            roomId: roomId,\\n            hooks: {\\n                onNewMessage: message => {\\n                    this.setState({\\n                        messages: [...this.state.messages, message]\\n                    })\\n                }\\n            }\\n        })\\n        .then(room => {\\n            this.setState({\\n                roomId: room.id\\n            })\\n            this.getRooms()\\n        })\\n        .catch(err => console.log('error on subscribing to room: ', err))\\n    }\\n    \\n    sendMessage(text) {\\n        this.currentUser.sendMessage({\\n            text,\\n            roomId: this.state.roomId\\n        })\\n    }\\n    \\n    createRoom(name) {\\n        this.currentUser.createRoom({\\n            name\\n        })\\n        .then(room => this.subscribeToRoom(room.id))\\n        .catch(err => console.log('error with createRoom: ', err))\\n    }\\n    \\n    render() {\\n        return (\\n            <div className=\\\"app\\\">\\n                <RoomList\\n                    subscribeToRoom={this.subscribeToRoom}\\n                    rooms={[...this.state.joinableRooms, ...this.state.joinedRooms]}\\n                    roomId={this.state.roomId} />\\n                <MessageList \\n                    roomId={this.state.roomId}\\n                    messages={this.state.messages} />\\n                <SendMessageForm\\n                    disabled={!this.state.roomId}\\n                    sendMessage={this.sendMessage} />\\n                <NewRoomForm createRoom={this.createRoom} />\\n            </div>\\n        );\\n    }\\n}\\n\\nexport default App\",\"const tokenUrl = \\\"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/de5c643a-95f1-45eb-9c84-0040dfdbe904/token\\\";\\nconst instanceLocator = \\\"v1:us1:de5c643a-95f1-45eb-9c84-0040dfdbe904\\\";\\n\\nexport { tokenUrl, instanceLocator }\",\"import React from 'react'\\nimport ReactDOM from 'react-dom'\\n\\nimport App from './App';\\n\\nReactDOM.render(<App />, document.getElementById('root'));\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(18)},17:function(e,t,a){},18:function(e,t,a){\"use strict\";a.r(t);var n=a(0),o=a.n(n),s=a(8),r=a.n(s),i=a(7),c=a(2),m=a(3),u=a(5),l=a(4),h=a(1),d=a(6),b=a(9),f=a.n(b);var p=function(e){return o.a.createElement(\"div\",{className:\"message\"},o.a.createElement(\"div\",{className:\"message-username\"},e.username),o.a.createElement(\"div\",{className:\"message-text\"},e.text))},g=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:\"componentWillUpdate\",value:function(){var e=r.a.findDOMNode(this);this.shouldScrollToBottom=e.scrollTop+e.clientHeight+100>=e.scrollHeight}},{key:\"componentDidUpdate\",value:function(){if(this.shouldScrollToBottom){var e=r.a.findDOMNode(this);e.scrollTop=e.scrollHeight}}},{key:\"render\",value:function(){return this.props.roomId?o.a.createElement(\"div\",{className:\"message-list\"},this.props.messages.map(function(e,t){return o.a.createElement(p,{key:e.id,username:e.senderId,text:e.text})})):o.a.createElement(\"div\",{className:\"message-list\"},o.a.createElement(\"div\",{className:\"join-room\"},\"\\u2190 Join a room!\"))}}]),t}(o.a.Component),v=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={message:\"\"},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e}return Object(d.a)(t,e),Object(m.a)(t,[{key:\"handleChange\",value:function(e){this.setState({message:e.target.value})}},{key:\"handleSubmit\",value:function(e){e.preventDefault(),this.props.sendMessage(this.state.message),this.setState({message:\"\"})}},{key:\"render\",value:function(){return o.a.createElement(\"form\",{onSubmit:this.handleSubmit,className:\"send-message-form\"},o.a.createElement(\"input\",{disabled:this.props.disabled,onChange:this.handleChange,value:this.state.message,placeholder:\"Type your message and hit ENTER\",type:\"text\"}))}}]),t}(o.a.Component),j=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:\"render\",value:function(){var e=this,t=Object(i.a)(this.props.rooms).sort(function(e,t){return e.id>t.id});return o.a.createElement(\"div\",{className:\"rooms-list\"},o.a.createElement(\"ul\",null,o.a.createElement(\"h3\",null,\"Your rooms:\"),t.map(function(t){var a=t.id===e.props.roomId?\"active\":\"\";return o.a.createElement(\"li\",{key:t.id,className:\"room \"+a},o.a.createElement(\"a\",{onClick:function(){return e.props.subscribeToRoom(t.id)},href:\"#\"},\"# \",t.name))})))}}]),t}(o.a.Component),O=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={roomName:\"\"},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e}return Object(d.a)(t,e),Object(m.a)(t,[{key:\"handleChange\",value:function(e){this.setState({roomName:e.target.value})}},{key:\"handleSubmit\",value:function(e){e.preventDefault(),this.props.createRoom(this.state.roomName),this.setState({roomName:\"\"})}},{key:\"render\",value:function(){return o.a.createElement(\"div\",{className:\"new-room-form\"},o.a.createElement(\"form\",{onSubmit:this.handleSubmit},o.a.createElement(\"input\",{value:this.state.roomName,onChange:this.handleChange,type:\"text\",placeholder:\"Create a room\",required:!0}),o.a.createElement(\"button\",{id:\"create-room-btn\",type:\"submit\"},\"+\")))}}]),t}(o.a.Component),R=(a(17),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={roomId:null,messages:[],joinableRooms:[],joinedRooms:[]},e.sendMessage=e.sendMessage.bind(Object(h.a)(e)),e.subscribeToRoom=e.subscribeToRoom.bind(Object(h.a)(e)),e.getRooms=e.getRooms.bind(Object(h.a)(e)),e.createRoom=e.createRoom.bind(Object(h.a)(e)),e}return Object(d.a)(t,e),Object(m.a)(t,[{key:\"componentDidMount\",value:function(){var e=this;new f.a.ChatManager({instanceLocator:\"v1:us1:de5c643a-95f1-45eb-9c84-0040dfdbe904\",userId:\"priyan\",tokenProvider:new f.a.TokenProvider({url:\"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/de5c643a-95f1-45eb-9c84-0040dfdbe904/token\"})}).connect().then(function(t){e.currentUser=t,e.getRooms()}).catch(function(e){return console.log(\"error on connecting: \",e)})}},{key:\"getRooms\",value:function(){var e=this;this.currentUser.getJoinableRooms().then(function(t){e.setState({joinableRooms:t,joinedRooms:e.currentUser.rooms})}).catch(function(e){return console.log(\"error on joinableRooms: \",e)})}},{key:\"subscribeToRoom\",value:function(e){var t=this;this.setState({messages:[]}),this.currentUser.subscribeToRoom({roomId:e,hooks:{onNewMessage:function(e){t.setState({messages:[].concat(Object(i.a)(t.state.messages),[e])})}}}).then(function(e){t.setState({roomId:e.id}),t.getRooms()}).catch(function(e){return console.log(\"error on subscribing to room: \",e)})}},{key:\"sendMessage\",value:function(e){this.currentUser.sendMessage({text:e,roomId:this.state.roomId})}},{key:\"createRoom\",value:function(e){var t=this;this.currentUser.createRoom({name:e}).then(function(e){return t.subscribeToRoom(e.id)}).catch(function(e){return console.log(\"error with createRoom: \",e)})}},{key:\"render\",value:function(){return o.a.createElement(\"div\",{className:\"app\"},o.a.createElement(j,{subscribeToRoom:this.subscribeToRoom,rooms:[].concat(Object(i.a)(this.state.joinableRooms),Object(i.a)(this.state.joinedRooms)),roomId:this.state.roomId}),o.a.createElement(g,{roomId:this.state.roomId,messages:this.state.messages}),o.a.createElement(v,{disabled:!this.state.roomId,sendMessage:this.sendMessage}),o.a.createElement(O,{createRoom:this.createRoom}))}}]),t}(o.a.Component));r.a.render(o.a.createElement(R,null),document.getElementById(\"root\"))}},[[12,1,2]]]);","extractedComments":[]}